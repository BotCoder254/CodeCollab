<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %> - CodeCollab</title>
    
    <!-- Styles -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="/css/style.css" rel="stylesheet">
    
    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    
    <!-- Monaco Editor (only on editor page) -->
    <% if (title.includes('Editor')) { %>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.36.1/min/vs/editor/editor.main.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.36.1/min/vs/loader.js"></script>
    <% } %>
</head>
<body class="bg-gray-100">
    <% if (locals.user && !title.includes('Landing')) { %>
        <div class="flex h-screen">
            <!-- Sidebar -->
            <%- include('components/sidebar', { user: locals.user, path: locals.path }) %>
            
            <!-- Main Content -->
            <div class="flex-1 overflow-auto ml-64">
                <%- body %>
            </div>
        </div>
    <% } else { %>
        <%- body %>
    <% } %>
    
    <!-- Common Components -->
    <%- include('components/notifications') %>
    <%- include('components/loading') %>
    
    <!-- Theme Switcher -->
    <div class="fixed bottom-4 right-4 z-50">
        <button id="themeSwitcher" class="p-2 rounded-full bg-gray-800 text-white shadow-lg hover:bg-gray-700">
            <i class="fas fa-moon"></i>
        </button>
    </div>

    <!-- Common Scripts -->
    <script src="/js/theme.js"></script>
    <% if (locals.user) { %>
        <script src="/js/app.js"></script>
    <% } %>
</body>
</html> 